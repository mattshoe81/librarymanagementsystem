@model LibraryWebUI.ViewModels.Member.CartViewModel
@using CoreLibrary.Inventory

@{
	ViewData["Title"] = "Cart";
	Layout = "~/Views/Shared/_MemberLayout.cshtml";
}

<hr />

@if (Model.CartContents.Count == 0) {
	<h1>Your cart is empty!</h1>
} else {
	<div class="text-center">
		<form asp-action="Checkout" method="post">
			<input type="submit" class="btn btn-primary" value="Checkout!" />
		</form>
	</div>

	<div>
		@{
			foreach (ILibraryItem book in Model.CartContents) {
				<hr style="border-top: 1px solid; margin-top: 50px; margin-bottom:50px;" />
				<div class="row">

					<div class="col-xs-2">
						<img src="@($"data:image/png;base64,{Convert.ToBase64String(book.ImageBytes)}")" class="img-responsive center-block">
						<p style="margin-top:10px;" class="text-center">
							<span style="font-weight:bold;">Format: </span> <em>@book.Format</em> <br />
						</p>
					</div>

					<div class="col-xs-10">
						<form asp-action="BookDetails" method="post">
							<input hidden type="number" name="libraryID" value="@book.LibraryID" />
							<input style="white-space:normal; text-align:left; margin-left:0; padding:0; font-size:180%; color:#000000; width:90%; font-style:italic; line-height:1.125;"
								   type="submit"
								   class="btn btn-link"
								   value="@book.Title" />
						</form>
						<div class="row" style="margin-top:20px;">
							<div class="col-xs-9">
								<textarea readonly style="width:100%; overflow:hidden; padding:0; border:none;" rows="4">@book.Description</textarea>
							</div>
						</div>
						<form style="display:inline-block; margin-top:3%; margin-right:5%;" class="pull-right" asp-action="RemoveFromCart" method="post">
							<input hidden type="number" name="libraryID" value="@book.LibraryID" />
							<input type="submit" class="btn btn-primary" value="Remove From Cart" />
						</form>
					</div>
				</div>


			}
		}
	</div>

}
